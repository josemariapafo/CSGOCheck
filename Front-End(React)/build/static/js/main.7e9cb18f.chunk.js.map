{"version":3,"sources":["routes/Home.module.css","functions/Auth.js","components/Header.js","routes/Home.js","routes/PriceModifier.js","components/ProductsTableComponent/ProductsTableComponent.js","components/AddNewProductComponent/AddNewProductComponent.js","routes/EditProducts.js","routes/Login.js","routes/NoRoute.js","App.js","serviceWorker.js","index.js","routes/PriceModifier.module.css"],"names":["module","exports","AuthContext","createContext","initialState","isAuthenticated","username","password","reducer","state","action","type","payload","AuthProvider","children","useReducer","authState","authDispatch","Provider","value","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Header","classes","history","useHistory","goToRoute","route","push","useContext","useState","isDrawerOpen","setIsDrawerOpen","closeDrawer","AppBar","position","Toolbar","IconButton","edge","className","color","aria-label","onClick","Menu","Typography","variant","Button","Drawer","drawer","anchor","open","onClose","ChevronLeft","Divider","List","ListItem","button","ListItemIcon","CameraAlt","ListItemText","primary","Home","styles","mainArea","backdrop","zIndex","palette","main","PriceModifier","vidRef","useRef","canvasRef","useEffect","navigator","mediaDevices","getUserMedia","video","facingMode","then","mediaStream","current","srcObject","play","catch","err","console","log","name","message","isProductDialogOpen","setIsProductDialogOpen","handleProductDialogClose","setIsRecognizing","markerId","newPrice","currentPrice","formData","setFormData","isRecognizing","isOpen","severity","snackbarState","setSnackbarState","showSnackbarMessage","closeSnackbar","recognizeImage","imageBlob","postForm","FormData","append","Date","now","auth","btoa","fetch","method","headers","body","response","json","jsonResponse","error","recognizedPrice","price","finally","pause","isSubmitting","errorMessage","formState","setFormState","handleFormInputChange","event","target","liveVideo","ref","onCanPlay","width","videoWidth","height","videoHeight","autoPlay","playsInline","muted","drawingCanvas","mainButtonContainer","getContext","drawImage","toBlob","disabled","Backdrop","CircularProgress","Dialog","disableBackdropClick","disableEscapeKeyDown","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","TextField","autoFocus","margin","label","inputProps","min","step","fullWidth","onChange","Grid","container","item","xs","sm","InputProps","endAdornment","InputAdornment","productFormBottomInfo","component","LinearProgress","DialogActions","preventDefault","sendData","parseFloat","JSON","stringify","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","size","Close","fontSize","Alert","customValidator","canBeEmpty","hasToBeNumeric","newValue","row","column","isNaN","valid","columns","dataField","text","validator","ProductsTableComponent","cellEdit","cellEditFactory","mode","blurToSave","afterSaveCell","oldValue","props","updateProduct","this","keyField","data","products","bordered","pagination","paginationFactory","Component","AddNewProductComponent","onSubmit","e","addNewProduct","class","placeholder","EditProducts","autoUpdate","marcador","nombre","precio","tienda","newProductData","length","storeId","setState","paper","marginTop","display","flexDirection","alignItems","avatar","backgroundColor","secondary","form","submit","Login","location","useLocation","from","pathname","handleInputChange","Container","maxWidth","CssBaseline","Avatar","setTimeout","replace","required","Box","mt","align","getFullYear","NoRoute","style","padding","createMuiTheme","lightBlue","amber","PrivateRoute","rest","render","to","App","ThemeProvider","exact","path","Boolean","window","hostname","match","ReactDOM","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7e9cb18f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainArea\":\"Home_mainArea__M7gaW\"};","import React, { createContext, useReducer } from 'react'\n\nconst AuthContext = createContext()\n\nconst initialState = {\n  isAuthenticated: false,\n  username: null,\n  password: null\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'login':\n      return {\n        ...state,\n        isAuthenticated: true,\n        username: action.payload.username,\n        password: action.payload.password\n      }\n    case 'logout':\n      return {\n        ...state,\n        isAuthenticated: false,\n        username: null,\n        password: null\n      }\n    default:\n      return state\n  }\n}\n\nconst AuthProvider = ({ children }) => {\n  const [authState, authDispatch] = useReducer(reducer, initialState)\n\n  return (\n    <AuthContext.Provider value={{ authState, authDispatch }}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport { AuthContext, AuthProvider }\n","import React, { useState, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { AuthContext } from '../functions/Auth'\n\nimport {\n  AppBar, Toolbar, Typography, Button, IconButton, Drawer, Divider,\n  List, ListItem, ListItemIcon, ListItemText\n} from '@material-ui/core'\nimport { Menu, CameraAlt, ChevronLeft } from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  },\n}))\n\nexport default function Header() {\n  const classes = useStyles()\n\n  const history = useHistory()\n\n  function goToRoute(route) {\n    history.push(route)\n  }\n\n  const { authState } = useContext(AuthContext)\n\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false)\n  function openDrawer() {\n    setIsDrawerOpen(true)\n  }\n  function closeDrawer() {\n    setIsDrawerOpen(false)\n  }\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={openDrawer}\n          >\n            <Menu />\n          </IconButton>\n\n          <Typography variant=\"h6\" className={classes.title}>\n            Logo\n          </Typography>\n\n          {\n            authState.isAuthenticated ?\n              <Button color=\"inherit\">\n                {authState.username}\n              </Button>\n              :\n              <Button color=\"inherit\" onClick={() => goToRoute('/login')}>\n                Login\n              </Button>\n          }\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        anchor=\"left\"\n        open={isDrawerOpen}\n        onClose={closeDrawer}\n      >\n        <div>\n          <IconButton onClick={closeDrawer}>\n            <ChevronLeft />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button onClick={() => goToRoute('/price-modifier')}>\n            <ListItemIcon><CameraAlt /></ListItemIcon>\n            <ListItemText primary=\"Modificador de precio\" />\n          </ListItem>\n          <ListItem button onClick={() => goToRoute('/edit-products')}>\n            <ListItemIcon><CameraAlt /></ListItemIcon>\n            <ListItemText primary=\"Editar productos\" />\n          </ListItem>\n        </List>\n      </Drawer>\n    </>\n  )\n}\n","import React from 'react'\nimport styles from './Home.module.css'\nimport Header from '../components/Header'\n\nexport default function Home() {\n\n  return (\n    <div className=\"Home\">\n      <Header />\n\n      <main className={styles.mainArea}>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla facilisis molestie nibh, sit amet auctor quam euismod vel. Nullam nulla erat, ultricies volutpat nisi quis, viverra tempus odio. Aenean in diam nec ante ultrices pellentesque. Nulla sollicitudin tortor dolor, nec consequat sapien congue vitae. In ac mauris imperdiet, dignissim dolor in, commodo lacus. Donec fermentum dapibus tincidunt. Donec eros augue, porttitor sagittis vestibulum vel, eleifend a orci. Curabitur pretium non mi nec fermentum. Vivamus auctor, felis sed mattis tincidunt, ipsum tellus ullamcorper ligula, sed rutrum quam orci sed mi. Nulla tincidunt congue varius.</p>\n      </main>\n    </div>\n  )\n}\n","import React, { useRef, useEffect, useState, useContext } from 'react'\nimport styles from './PriceModifier.module.css'\nimport {\n  Button, Backdrop, CircularProgress, TextField, Dialog, DialogActions,\n  DialogContent, DialogContentText, DialogTitle, Grid, InputAdornment,\n  LinearProgress, Snackbar, IconButton, Typography\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport Alert from '@material-ui/lab/Alert'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { AuthContext } from '../functions/Auth'\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: theme.palette.primary.main\n  }\n}))\n\nexport default function PriceModifier() {\n  const { authState } = useContext(AuthContext)\n\n  const classes = useStyles()\n\n  const vidRef = useRef(null)\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({\n      video: { facingMode: 'environment' }\n    }).then((mediaStream) => {\n      vidRef.current.srcObject = mediaStream\n      vidRef.current.play()\n    }).catch((err) => {\n      console.log(`${err.name}: ${err.message}`)\n    })\n  }, [])\n\n  function setDimensions() {\n    vidRef.current.width = vidRef.current.videoWidth\n    vidRef.current.height = vidRef.current.videoHeight\n\n    canvasRef.current.width = vidRef.current.videoWidth\n    canvasRef.current.height = vidRef.current.videoHeight\n  }\n\n  const [isProductDialogOpen, setIsProductDialogOpen] = useState(false)\n  function handleProductDialogClose() {\n    setIsProductDialogOpen(false)\n    setIsRecognizing(false)\n  }\n\n  const [formData, setFormData] = useState({\n    name: '',\n    markerId: 0,\n    newPrice: 0,\n    currentPrice: 0\n  })\n  const [isRecognizing, setIsRecognizing] = useState(false)\n\n  const [snackbarState, setSnackbarState] = useState({\n    isOpen: false,\n    severity: 'info',\n    message: ''\n  })\n  function showSnackbarMessage(message, severity) {\n    setSnackbarState({\n      isOpen: true,\n      message,\n      severity\n    })\n  }\n  const closeSnackbar = () => setSnackbarState({\n    isOpen: false, message: '', severity: 'info'\n  })\n\n  function recognizeImage(imageBlob) {\n    setIsRecognizing(true)\n\n    const postForm = new FormData()\n    postForm.append('image', imageBlob, `capture_${Date.now()}.png`)\n\n    const auth = `Basic ${btoa(`${authState.username}:${authState.password}`)}`\n\n    fetch('/api/recognition/povill', {\n      method: 'POST',\n      headers: {\n        'authorization': auth\n      },\n      body: postForm\n    }).then(response => response.json())\n      .then(jsonResponse => {\n        if (jsonResponse.error) {\n          showSnackbarMessage(jsonResponse.error.message, 'error')\n        } else {\n          setFormData({\n            ...formData,\n            markerId: jsonResponse.markerId,\n            name: jsonResponse.name,\n            newPrice: jsonResponse.recognizedPrice,\n            currentPrice: jsonResponse.price\n          })\n          setIsProductDialogOpen(true)\n        }\n      }).catch(err => {\n        console.log('err', err)\n      }).finally(() => {\n        setIsRecognizing(false)\n      })\n  }\n\n  function onClickCapture() {\n    const ctx = canvasRef.current.getContext('2d')\n    ctx.drawImage(\n      vidRef.current,\n      0, 0,\n      canvasRef.current.width,\n      canvasRef.current.height\n    )\n\n    canvasRef.current.toBlob(recognizeImage, 'image/png')\n  }\n\n  // Pause video when recognizing\n  useEffect(() => {\n    if (isRecognizing) {\n      vidRef.current.pause()\n    } else {\n      vidRef.current.play()\n    }\n  }, [isRecognizing])\n\n  const [formState, setFormState] = useState({\n    isSubmitting: false,\n    errorMessage: ''\n  })\n\n  function handleFormInputChange(event) {\n    setFormData({\n      ...formData,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault()\n\n    setFormState({\n      ...formState,\n      isSubmitting: true\n    })\n\n    const sendData = {\n      name: formData.name,\n      price: parseFloat(formData.newPrice)\n    }\n\n    const auth = `Basic ${btoa(`${authState.username}:${authState.password}`)}`\n\n    fetch(`/api/products/povill/${formData.markerId}`, {\n      method: 'PUT',\n      headers: {\n        'content-type': 'application/json',\n        'authorization': auth\n      },\n      body: JSON.stringify(sendData)\n    })\n      .then(response => response.json())\n      .then(jsonResponse => {\n        if (jsonResponse.error) {\n          setFormState({\n            ...formState,\n            isSubmitting: false,\n            errorMessage: jsonResponse.error.message\n          })\n        } else {\n          setFormState({\n            ...formState,\n            isSubmitting: false,\n            errorMessage: ''\n          })\n          setIsProductDialogOpen(false)\n          showSnackbarMessage('Producto modificado correctamente', 'success')\n        }\n      })\n      .catch(err => {\n        console.log('err', err)\n      })\n  }\n\n  return (\n    <div className={styles.root}>\n      <video\n        className={styles.liveVideo}\n        ref={vidRef}\n        onCanPlay={setDimensions}\n        autoPlay\n        playsInline\n        muted\n      />\n\n      <canvas className={styles.drawingCanvas} ref={canvasRef} />\n\n      <div className={styles.mainButtonContainer}>\n        <Button\n          onClick={onClickCapture}\n          disabled={isRecognizing}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Capturar\n        </Button>\n      </div>\n\n      <Backdrop open={isRecognizing} className={classes.backdrop}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={isProductDialogOpen}\n        onClose={handleProductDialogClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Producto escaneado</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Verifica los datos del producto escaneado.\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"markerId\"\n            name=\"markerId\"\n            label=\"Marcador\"\n            type=\"number\"\n            inputProps={{ min: \"0\", step: \"1\" }}\n            fullWidth\n            value={formData.markerId}\n            onChange={handleFormInputChange}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            name=\"name\"\n            label=\"Nombre\"\n            type=\"text\"\n            fullWidth\n            value={formData.name}\n            onChange={handleFormInputChange}\n          />\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"newPrice\"\n                name=\"newPrice\"\n                label=\"Precio nuevo\"\n                type=\"number\"\n                fullWidth\n                value={formData.newPrice}\n                onChange={handleFormInputChange}\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"end\">€</InputAdornment>\n                }}\n                inputProps={{ min: \"0\", step: \"0.01\" }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"currentPrice\"\n                label=\"Precio actual\"\n                type=\"number\"\n                fullWidth\n                value={formData.currentPrice}\n                disabled\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"end\">€</InputAdornment>\n                }}\n              />\n            </Grid>\n          </Grid>\n          <div className={styles.productFormBottomInfo}>\n            {\n              formState.errorMessage ?\n                <Typography color=\"error\" variant=\"body1\" component=\"p\">\n                  {formState.errorMessage}\n                </Typography>\n                : null\n            }\n            {formState.isSubmitting ? <LinearProgress /> : null}\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleProductDialogClose}\n            color=\"default\"\n            variant=\"contained\"\n            disabled={formState.isSubmitting}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={handleFormSubmit}\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={formState.isSubmitting}\n          >\n            Enviar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={snackbarState.isOpen}\n        autoHideDuration={6000}\n        onClose={closeSnackbar}\n        action={\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={closeSnackbar}>\n            <Close fontSize=\"small\" />\n          </IconButton>\n        }\n      >\n        <Alert\n          variant=\"filled\"\n          severity={snackbarState.severity}\n        >\n          {snackbarState.message}\n        </Alert>\n      </Snackbar>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport cellEditFactory from 'react-bootstrap-table2-editor';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport './ProductsTableComponent.css';\n\n\n// https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html?selectedKind=Cell%20Editing&selectedStory=Blur%20to%20Save%20Cell&full=0&addons=1&stories=1&panelRight=0&addonPanel=storybook%2Factions%2Factions-panel\n\nfunction customValidator(canBeEmpty, hasToBeNumeric) {\n  return (newValue, row, column) => {\n    // No puede estar vacío\n    if(!canBeEmpty && newValue===\"\") {\n      return {\n        valid: false,\n        message: 'No puedes dejarlo vacío'\n      }\n    }\n    // Tiene que ser un número\n    if (hasToBeNumeric && isNaN(newValue)) {\n      return {\n        valid: false,\n        message: 'Tiene que ser un número'\n      }\n    }\n    return true;\n  }\n}\n\nconst columns = [\n  { dataField: 'id', text: '#'}, \n  { dataField: 'markerId', text: 'Marcador', validator: customValidator(false, true) }, \n  { dataField: 'name', text: 'Nombre', validator: customValidator(false, false) },\n  { dataField: 'price', text: 'Precio(€)', validator: customValidator(false, true)  },\n  { dataField: 'storeId', text: 'Tienda', validator: customValidator(false, false) }\n];\n\nclass ProductsTableComponent extends Component {\n\n\n  constructor() {\n    super();\n  }\n\n  cellEdit = cellEditFactory({\n    mode: 'click',     // Se edita al hacer click\n    blurToSave: true,  // No hace falta dar al enter\n    afterSaveCell: (oldValue, newValue, row, column) => {\n      this.props.updateProduct(row);\n    }\n  });\n\n  render() {\n    return (\n      <div className=\"ProductsTableComponent\">\n        <h4>Lista de productos</h4>\n        <BootstrapTable \n              cellEdit={this.cellEdit}\n              keyField='id' \n              data={this.props.products} \n              columns={columns} \n              bordered={false}\n              pagination={paginationFactory()}\n        />\n      </div>\n    );\n  }\n\n}\n\nexport default ProductsTableComponent;","import React, { Component } from 'react'\nimport './AddNewProductComponent.css';\n\nclass AddNewProductComponent extends Component {\n  \n  constructor() {\n    super();\n  }\n\n  onSubmit = (e)=>{\n    e.preventDefault();\n    this.props.addNewProduct(e.target[0].value, e.target[1].value, e.target[2].value, e.target[3].value);\n  }\n\n  render() {\n    return (\n      <div className=\"AddNewProductComponent\">\n        <h4>Agregar un nuevo producto</h4>\n        <form onSubmit={this.onSubmit}>\n          <div class=\"form-group\">\n            <input type=\"text\" id=\"marcador\" name=\"marcador\" onChange={this.onChange} class=\"form-control\" placeholder=\"Marcador\"/>\n          </div>\n          <div class=\"form-group\">\n            <input type=\"text\" id=\"nombre\" name=\"nombre\" onChange={this.onChange}  class=\"form-control\" placeholder=\"Nombre\" />\n          </div>\n          <div class=\"form-group\">\n            <input type=\"text\" id=\"precio\" name=\"precio\" onChange={this.onChange} class=\"form-control\" placeholder=\"Precio\" />\n          </div>\n          <div class=\"form-group\">\n            <input type=\"text\" id=\"tienda\" name=\"tienda\" onChange={this.onChange} class=\"form-control\" placeholder=\"Tienda\" />\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">Agregar</button>\n        </form>\n      </div>\n    )\n  }\n\n}\n\n\nexport default AddNewProductComponent;","import React, { Component, useContext } from 'react'\nimport HeaderComponent from '../components/Header'\nimport ProductsTableComponent from '../components/ProductsTableComponent/ProductsTableComponent'\nimport AddNewProductComponent from '../components/AddNewProductComponent/AddNewProductComponent'\n\nclass EditProducts extends Component {\n\n  constructor() {\n    super();\n  }\n\n  componentDidMount() {\n    var reference = this;\n    \n    /*\n    var url = new URL(\"http://localhost:3000/getProducts\");\n    url.searchParams.set('user', read_cookie(\"user_credentials\").username);\n    url.searchParams.set('password', read_cookie(\"user_credentials\").password);\n\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(data) {\n        data.forEach((element, i) => { element.id = (i + 1); });\n        reference.setState({products: data});\n        console.log(data);\n      });*/\n\n  }\n\n  state = {\n    products: [],\n    autoUpdate: true\n  }\n  \n\n  addNewProduct = (marcador, nombre, precio, tienda) => {\n  \n    const newProductData = {\n      id: (this.state.products.length + 1),\n      markerId: marcador,\n      name: nombre,\n      price: precio,\n      storeId: tienda,\n    }\n/*\n    var url = new URL(\"http://localhost:3000/addProduct\");\n    url.searchParams.set('user', read_cookie(\"user_credentials\").username);\n    url.searchParams.set('password', read_cookie(\"user_credentials\").password);\n    url.searchParams.set('markerId', marcador);\n    url.searchParams.set('name', nombre);\n    url.searchParams.set('price', precio);\n    url.searchParams.set('storeId', tienda);\n\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(data) {\n        console.log(data);\n      });\n    */\n    this.state.products.push(newProductData);\n    this.setState({autoUpdate: true});\n\n  }\n\n  updateProduct(row) {\n\n    /*\n    var url = new URL(\"http://localhost:3000/updateProduct\");\n    url.searchParams.set('user', read_cookie(\"user_credentials\").username);\n    url.searchParams.set('password', read_cookie(\"user_credentials\").password);\n    url.searchParams.set('_id', row[\"_id\"]);\n    url.searchParams.set('markerId', row[\"markerId\"]);\n    url.searchParams.set('name', row[\"name\"]);\n    url.searchParams.set('price', row[\"price\"]);\n    url.searchParams.set('storeId', row[\"storeId\"]);\n\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(data) {\n        console.log(data);\n      });*/\n      \n  }\n    \n  render() {\n    return (\n      <div className=\"EditProducts\">\n        <HeaderComponent />\n        <ProductsTableComponent products={this.state.products} updateProduct={this.updateProduct}/>\n        <AddNewProductComponent addNewProduct={this.addNewProduct}/>\n      </div>\n    )\n  }\n\n}\n\nexport default EditProducts;","\nimport React, { useState, useContext } from 'react'\n\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { AuthContext } from '../functions/Auth'\n\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport TextField from '@material-ui/core/TextField'\nimport Box from '@material-ui/core/Box'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default function Login() {\n  const classes = useStyles()\n  const history = useHistory()\n  const location = useLocation()\n  const { authDispatch } = useContext(AuthContext)\n\n  const { from } = location.state || { from: { pathname: \"/\" } }\n\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    isSubmitting: false,\n    errorMessage: null\n  })\n\n  function handleInputChange(event) {\n    setFormData({\n      ...formData,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault()\n\n    setFormData({\n      ...formData,\n      isSubmitting: true\n    })\n\n    // Fake auth\n    setTimeout(() => {\n      authDispatch({\n        type: 'login',\n        payload: {\n          username: formData.username,\n          password: formData.password\n        }\n      })\n\n      setFormData({\n        ...formData,\n        isSubmitting: false\n      })\n\n      history.replace(from)\n    }, 1000)\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Iniciar sesión\n        </Typography>\n        <form\n          className={classes.form}\n          onSubmit={handleFormSubmit}\n        >\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"Nombre\"\n            name=\"username\"\n            autoFocus\n            value={formData.username}\n            onChange={handleInputChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Contraseña\"\n            type=\"password\"\n            id=\"password\"\n            value={formData.password}\n            onChange={handleInputChange}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            disabled={formData.isSubmitting}\n          >\n            Entrar\n          </Button>\n\n          {formData.errorMessage && (\n            <span>{formData.errorMessage}</span>\n          )}\n        </form>\n      </div>\n      <Box mt={8}>\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n          Copyright © Ugiat {new Date().getFullYear()}\n        </Typography>\n      </Box>\n    </Container>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nexport default function NoRoute() {\n  const history = useHistory()\n  return (\n    <div style={{ padding: '3rem' }}>\n      Route: <span style={{ color: '#33a' }}>\n        {history.location.pathname}\n      </span> does not exist.\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport './App.css'\nimport {\n  BrowserRouter as Router, Switch, Route, Redirect\n} from 'react-router-dom'\nimport Home from './routes/Home'\nimport PriceModifier from './routes/PriceModifier'\nimport EditProducts from './routes/EditProducts'\nimport Login from './routes/Login'\nimport NoRoute from './routes/NoRoute'\n\nimport { AuthContext, AuthProvider } from './functions/Auth'\n\nimport { ThemeProvider } from '@material-ui/styles'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { lightBlue, amber } from '@material-ui/core/colors'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: lightBlue[700]\n    },\n    secondary: {\n      main: amber[900]\n    }\n  }\n})\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <AuthProvider>\n          <Router>\n            <Switch>\n              <PrivateRoute exact path=\"/\">\n                <Home />\n              </PrivateRoute>\n              <Route path=\"/login\">\n                <Login />\n              </Route>\n              <PrivateRoute path=\"/price-modifier\">\n                <PriceModifier />\n              </PrivateRoute>\n              <PrivateRoute path=\"/edit-products\">\n                <EditProducts />\n              </PrivateRoute>\n              <Route>\n                <NoRoute />\n              </Route>\n            </Switch>\n          </Router>\n        </AuthProvider>\n      </ThemeProvider>\n    </div>\n  )\n}\n\nfunction PrivateRoute({ children, ...rest }) {\n  const { authState } = useContext(AuthContext)\n  return (\n    <Route {...rest} render={({ location }) =>\n        // Si el usuario está logueado...\n        authState.isAuthenticated ? (\n          // Le dejamos pasar\n          children\n        ) \n        // De lo contrario\n        : (\n          // Lo enviamos al login\n          <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\n        )\n      }\n    />\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PriceModifier_root__3-bjR\",\"liveVideo\":\"PriceModifier_liveVideo__snPRn\",\"drawingCanvas\":\"PriceModifier_drawingCanvas__GYOce\",\"mainButtonContainer\":\"PriceModifier_mainButtonContainer__1dp5S\",\"productFormBottomInfo\":\"PriceModifier_productFormBottomInfo__svkmR\"};"],"sourceRoot":""}